---
Date: 2024-10-17
---
# 순수 함수

함수형 프로그래밍의 이론적 기반이 되는 람다 산술에서, 함수는 동일 입력에 대해서 항상 동일한 결과를 반환해야 한다. 이러한 함수의 일관된 거동을 순수성이라고 하며, 현실 프로그래밍에서 작성하는 함수가 순수성을 띄는 경우, 이를 순수 함수라고 한다.

## 순수 함수의 조건

순수함수가 되기 위해서는 보통 다음과 같은 원칙을 따른다.
1) 인자를 call by constant reference 혹은 call by value -> 전달한 인자를 분리.
2) 반환값의 const reference 혹은 복사
3) 변수의 mutability는 오직 local 변수만

즉, 함수의 side-effect를 완전히 제거하는데에 그 핵심이 있다.

## 순수 함수의 장점
- 병렬 친화성 : side-effect가 없으므로, 병렬실행에 있어서 critical section이 발생하지 않음.
- 디버깅 용이성 : 외부의 status에 의존하지 않으므로, 매 실행에서 현재 scope 외부의 값을 고려할 필요가 없음. 추적이 용이해짐.
- 테스트 용이성 : 디버깅의 편리함과 마찬가지 이유로 매 실행마다 동일한 결과를 주기에 테스트도 용이함.
- 수정 용이성 : 외부에 대한 의존성이 없으므로, 코드 수정 시에도 고려할 위험이 적음.
## 순수 함수의 단점
- 과도한 메모리 사용 : 값을 복사해서 전달해야 하는 경우가 다수 발생함. 
- 알고리즘 적용의 불편함 : 대단히 많은 알고리즘이 오토마타(상태기계)를 기반으로 하기에 이를 극복하는 것은 대단히 곤란함.